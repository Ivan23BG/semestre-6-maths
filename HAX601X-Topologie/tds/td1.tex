\documentclass[french,a4paper,10pt]{article}
\input{../../common/header.tex}
\usepackage[a4paper,hmargin=30mm,vmargin=30mm]{geometry}
\title{\color{astral} \sffamily \bfseries Planche TD 1}
\author{Ivan Lejeune\thanks{Cours inspiré de M. Akrout}}
\date{\today}

\begin{document}
	
	\maketitle
	\begin{td-exo}[(Seconde inégalité triangulaire)]
		Soit $(X, d)$ un espace métrique, montrer que pour tous $x,y,z\in X$ on a
			\[\begin{aligned}
				|d(x,y)-d(y,z)|\le d(x,z)
			\end{aligned}\]
	\end{td-exo}
	\begin{td-sol}
		Soient $x,y,z\in X$. On a
			\[\begin{aligned}
				d(x,y)&\le d(x,z)+d(z,y)\\
				d(x,y)-d(z,y)&\le d(x,z)&(1)
			\end{aligned}\]
		et
			\[\begin{aligned}
				d(z,y)&\le d(z,x)+d(x,y)\\
				d(z,y)-d(x,y)&\le d(x,z)&(2)
			\end{aligned}\]
		En combinant les 2 on obtient
			\[\begin{aligned}
				-d(x,z)\underset{\text{par }(2)}\le d(x,y)-d(y,z)\underset{\text{par }(1)}\le d(x,z)
			\end{aligned}\]
		Donc on a bien
			\[\begin{aligned}
				|d(x,y)-d(y,z)|\le d(x,z)
			\end{aligned}\]
		
	\end{td-sol}
	\medspace
	\begin{td-exo}[(Distance induite)]
		Soit $x=(\ff{0, 1}\times\{0\})\cup (\{0\}\times \ff{0, 1})$ munit de la distance induite par la norme infinie de $\bb R^2$. Dessiner les boules de centre $(1,0)$.
	\end{td-exo}
	\begin{td-sol}
		On a 
			\[\begin{aligned}
				\bolo{x_0,r}_{||\cdot||_\infty}&=\{y\in X\mid \mathcal N_\infty(y-(1, 0))<r\}\\
				&=\left\{y\in X\bigg\mid ~\begin{matrix}
					|y_1-1|<r&\text{et}\\
					|y_2|<r
					\end{matrix}~\right\}\\
				&=x\text{ si }r>1\\
				&=\of{1-r,1}\times\{0\}\text{ sinon}
			\end{aligned}\]
		On a 
			\[\begin{aligned}
				\bolo{x_0,r}_X=\bolo{x_0, r}_{\bb R^2}\cap X
			\end{aligned}\]
	\end{td-sol}
	\medspace
	\begin{td-exo}[(Fonctions sous-additives et distance)]
		Soit $(X, d)$ un espace métrique
			\begin{enumerate}
				\item Soit $\varphi$ une fonction croissante de $\bb R^+$ dans $\bb R^+$ telle que $\varphi(0)=0$, $\varphi$ est injective sur un voisinage de $0$ et $\varphi(s+t)\le\varphi(s)+\varphi(t)$ pour tous $s,t\in \bb R^+$. Montrer que $D=\varphi\circ d$ est une métrique sur $X$.
				
				\item Montrer que $D(x,y)=\min(1,d(x,y))$ est une distance sur $X$ et que les topologies associées à $d$ et $D$ sont les mêmes.
			\end{enumerate}
	\end{td-exo}
	\begin{td-sol}
		\begin{enumerate}
			\item 
				
				Il suffit de vérifier les axiomes d'une métrique :
				
				Soit $x,y\in X$, on a
				\begin{enumerate}[label=$(\roman*)$]
					\item $\varphi\circ d$ positif par définition de $\varphi$,
					
					\item Si $d(x,y)=0$ alors $\varphi\circ d(x,y)=0$. Pour l'autre sens, on suppose $d(x,y)\ne 0$, soit, en notant $d\coloneq d(x,y)$, que $d>0$.
					
					Regardons alors sur $\ff{0,d}$. On a
					\[\begin{aligned}
						x\in\ff{0,d}\Longrightarrow 0\le\varphi(x)\le\varphi(d)=0
					\end{aligned}\]
					Cela donne alors $\varphi$ constante égale à 0 sur $\ff{0,d}$.
					
					Or il existe $\varepsilon>0$ tel que $\varphi$ injective sur $\fo{0,\varepsilon}$, donc $\varphi$ ne peut pas être constante sur un voisinage de $0$. Ainsi,
					\[\begin{aligned}
						\varphi(d(x,y))=0\Longleftrightarrow d(x,y)=0
					\end{aligned}\]
					
					\item $d(x,y)=d(y,x)$ donc $\varphi\circ d(x,y)=\varphi\circ d(y,x)$ et donc $\varphi\circ d$ est symétrique,
					
					\item soit $z\in X$, on a
					\[\begin{aligned}
						\varphi(d(x,y))&\underset{\substack{\text{car }\varphi\\\text{croissante}}}{\le} \varphi(d(x,z)+d(z,y))\\
						&\underset{\substack{\text{car }\varphi\\\text{ss-additive}}}{\le} \varphi(d(x,z))+\varphi(d(z,y))
					\end{aligned}\]
				\end{enumerate}
			
			\item Pour la deuxième partie, on rappelle $D=\min(1,d)$. 
				On considère $\phi$ telle que
					\[\begin{aligned}
						\phi=&\bb R^+&\to&\bb R^+\\
						&t&\mapsto&\min(1,t)
					\end{aligned}\]
					\begin{center}
						\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1cm,y=1cm]
							\begin{axis}[
								x=1cm,y=1cm,
								axis lines=middle,
								grid style=dashed,
								ymajorgrids=true,
								xmajorgrids=true,
								xmin=-0.5,
								xmax=3.5,
								ymin=-0.5,
								ymax=1.5,
								]
								
								\draw [line width=1pt,color=astral] (0,0)-- (1,1);
								\draw [line width=1pt,color=astral,dotted] (0,1)-- (1,1);
								\draw [line width=1pt,color=astral] (1,1)-- (3,1);
								
								\draw[color=astral] (2.2, -1.2) node {$\varphi(t)$};
								
							\end{axis}
						\end{tikzpicture}
					\end{center}
				On a 
					\[\begin{aligned}
						\phi(x) =
							\begin{cases}
								x&\text{sur }\ff{0, 1}\\
								1&\text{sur }\fo{1,+\infty}
							\end{cases}
					\end{aligned}\]
				On a
					$\phi(0)=0$ car $\phi$ croissante et injective sur $\ff{0, 1}$.
				On a
					\[\begin{aligned}
						\min(1,t+s)\le \min(1,t)+\min(1,s)
					\end{aligned}\]
				Si 
					\[\begin{gathered}
						t+s\le 1\\
						\min(1,t+s)=t+s=\min(1,t)+\min(1,s)
					\end{gathered}\]
				Si 
					\[\begin{gathered}
						t+s> 1\\
						\min(1,t+s)=1
					\end{gathered}\]
				Si 
					\[\begin{gathered}
						s\ge 1,t\ge 1\\\text{evident}
					\end{gathered}\]
				Si
					\[\begin{gathered}
						s,t<1\\
						\min(1,s)+\min(1,t)=s+t\ge 1
					\end{gathered}\]
				Donc, en tout, $\varphi$ est sous-additive.
				\begin{no-num-remark}
					Si $r<1$, on a
						\[\begin{aligned}
							\bolo{x,r}_d=\bolo{x,r}_D
						\end{aligned}\]
				\end{no-num-remark}
				% preuve de la remarque évidente
				On considère $U$ ouvert pour $d$ et $x\in U$. Alors
				$r'=\min(1,r)\le r$ d'où
					\[\begin{aligned}
						\bolo{x,r}_D\sub U
					\end{aligned}\]
				D'où $U$ ouvert pour $D$.
				
				Dans le cas $r\le 1$, on prend $y\in\bolo{x,r}_d$ et on a alors
					\[\begin{gathered}
						d(x,y)<r\le 1\\
						D(x,y)=\min(1,d(x,y))=d(x,y)<r
					\end{gathered}\]
				D'où $y\in \bolo{x,r}_D$
				
				Et pour $y\in \bolo{x,r}_D$, on a
					\[\begin{gathered}
						D(x,y)=\min(1,d(x,y))<r\le 1
					\end{gathered}\]
				D'où
					\[\begin{aligned}
						\min(1,d(x,y))<1
					\end{aligned}\]
				Et enfin
					\[\begin{aligned}
						\min(1,d(x,y))=d(x,y)<r
					\end{aligned}\]
		\end{enumerate}
	\end{td-sol}
	\begin{td-exo}[(Distance sur l'ensemble des suites)]
		Soit $\bb R^n$ l'ensemble des suites réelles. Pour un espace métrique $(X,d)$, on définit son diamètre par $\diam(X)=\sup\{d(x,y),x,y\in X\}$.
			\begin{enumerate}
				\item Montrer que $\delta (x,y)=\arctan(|x-y|)$ est une distance sur $\bb R$. Quel est le diamètre de $\bb R$ pour cette distance ?
				
				\item Pour deux suites $(x_n)=(x_0,\dots,x_n)$ et $(y_n)=(y_0,\dots,y_n)$ réelles, on pose
					\[\begin{aligned}
						D(x,y)=\sum_{i=0}^\infty \frac{\delta(x_i,y_i)}{2^i}
					\end{aligned}\]
						\begin{enumerate}
							\item Montrer que $D$ est bien définie et que c'est une distance sur $\bb R^{\bb N}$.
							\item Quel est le diamètre de $\bb R^{\bb N}$ pour $D$.
						\end{enumerate}
			\end{enumerate}
	\end{td-exo}

	\begin{td-sol}
		On considère 
		\[\begin{aligned}
			\varphi(t)=\arctan(t)
		\end{aligned}\]
		On prend 
			\[\begin{gathered}
				X=\left(\bb R,\arctan(|x-y|)\right)
			\end{gathered}\]
		et on a
			\[\begin{gathered}
				\text{diam} X=\sup\{\delta(x,y),x,y,\in\bb R\}\le\frac\pi2
			\end{gathered}\]
		Pour $n\in\bb N$
			\[\begin{gathered}
				\delta(0,n)=\arctan(n)=\frac\pi2\le\sup(\delta(x,y))=\text{diam}(X)
			\end{gathered}\]
		Donc
			\[\begin{aligned}
				\text{Diam}(\bb R,\delta)=\frac\pi2
			\end{aligned}\]
		\begin{no-num-remark}\,
			\[\begin{aligned}
				\bb R=\bolo{0,\frac\pi2}_\delta
			\end{aligned}\]
			
		\end{no-num-remark}
		On considère une suite de diamètre inférieur à $\pi$ : 
			\[\begin{aligned}
				X_n\coloneq (n,n,\dots,n)
			\end{aligned}\]
		Qui converge vers $2\arctan(n)$.
	\end{td-sol}
	
	\begin{td-exo}[(Distance ultramétrique)]
		Une distance $d$ sur $X$ est dite \defemph{ultramétrique} si elle vérifie
			\[\begin{aligned}
				d(x,y)\le \max(d(x,z),d(y,z))
			\end{aligned}\]
		pour tous $x,y,z\in X$.
			\begin{enumerate}
				\item Montrer que l'inégalité ultramétrique implique l'inégalité triangulaire
				
				\item Montrer que dans un espace ultramétrique, 
				\begin{enumerate}
					\item tous les triangles sont isocèles,
					
					\item tout point d'une boule est centre de cette boule.
					
					\item toute boule est à la fois ouverte et fermée,
					
					\item deux boules sont soit disjoints, soit l'une est incluse dans l'autre.
				\end{enumerate}
			\end{enumerate}
	\end{td-exo}
	\begin{td-sol}
		Il faut commencer par montrer que ultra métrique implique l'inégalité triangulaire.
		
		Soit $s,t\ge 0$, on a
			\[\begin{aligned}
				\max(s,t)=s\text{ ou }t\le s+t
			\end{aligned}\]
		Comme la distance est positive, on a
			\[\begin{aligned}
				d(x,z)\le \max(d(x,y),d(y,z))\le d(x,y)+d(y,z)
			\end{aligned}\]
			
		Ainsi si on a l'inégalité ultra métrique, alors on a l'inégalité triangulaire.
		
		Montrons maintenant qu'en ultra métrique tous les triangles sont isocèles et tout point d'une boule est centre de cette boule.
		
		\begin{no-num-remark}[$($exo$\ast)$]
			La distance discrète est une distance ultra-métrique
		\end{no-num-remark}
		
		\begin{itemize}
			\item Pour le triangle isocèle, on pose $x,y,z\in x$ définissant un triangle.
			
			Si ce triangle n'est pas isocèle, alors on a
				\[\begin{cases}
					d(x,y)&\ne d(y,z)\\
					d(x,y)&\ne d(x,z)\\
					d(y,z)&\ne d(x,z)
				\end{cases}\]
			On suppose,quitte à inter-changer $x,y$ et $z$, que
			\[\begin{aligned}
				d(x,y)=\max\{d(x,y),d(y,z),d(x,z)\}
			\end{aligned}\]
			et donc on a pas
			\[\begin{aligned}
				d(x,y)\le \max\{d(y,z),d(x,z)\}
			\end{aligned}\]
			Ainsi $x,y,z$ forment forcément un triangle isocèle.
			\begin{no-num-remark}
				On ne le précise pas mais en plus d'être isocèle, le côté "isocèle" est le plus grand, il suffit de prendre la définition d'ultra-métrique.
			\end{no-num-remark}
			
			\item Pour montrer que tout point d'une boule en est un centre, on considère $B(x,\varepsilon)$ et $y\in B(x,\varepsilon)$. On montre alors que $B(x,\varepsilon)=B(y,\varepsilon)$.
			
			Soit $x'\in B(x,\varepsilon)$, on a
			\[\begin{gathered}
				d(x',x)\le\varepsilon\\\text{et }d(x,y)\le\varepsilon\\\text{et }d(x',y)\le\max\{d(x',x),d(x,y)\}
			\end{gathered}\]
			Et donc $x'\in B(y,\varepsilon)$, soit que
				\[\begin{aligned}
					\bolo{x,\varepsilon}\sub \bolo{y,\varepsilon}
				\end{aligned}\]
			Pour l'autre sens on a
				\[\begin{aligned}
					y\in\bolo{x,\varepsilon}&\Longleftrightarrow d(x,y)<\varepsilon\\
					&\Longleftrightarrow x\in \bolo{y,\varepsilon}
				\end{aligned}\]
				
			\item Soient $x\in X$ et $r>0$. On veut montrer que $\bolo{x,r}$ est fermée.
			
			Soit $y\in \bolo{x,r}^C$. Montrons que $\bolo{y,r}\sub \bolo{x,r}^C$.
			
			Supposons par l'absurde qu'il existe
				\[\begin{aligned}
					z\in \bolo{y,r}\cap \bolo{x,r}
				\end{aligned}\]
			D'après la question précédente, on a
				\[\begin{aligned}
					\bolo{y,r}=\bolo{z,r}=\bolo{x,r}
				\end{aligned}\]
			En particulier $y\in\bolo{x,r}$ ce qui est absurde.
			
			\item Pour l'autre, on considère $y\in\bolf{x,r}$. On a
			\[\begin{aligned}
				y\in\bolo{y,r}\sub\bolf{y,r}=\bolf{x,r}
			\end{aligned}\]
			
			\item Soit $x,y\in X$, on considère $\bolf{x,r},\bolf{y,r'}$. On a alors deux possibilités :
			
			Si $\bolo{x,r}\cap \bolo{y,r}=\varnothing$ alors
			
			
			Sinon, on considère $\alpha \in \bolo{x,r}\cap \bolo{y,r}=\varnothing$. Supposons (quitte à refaire le même raisonnement dans l'autre sens) que $r'\le r$, alors :
				\[\begin{aligned}
					\bolo{y,r'}=\bolo{\alpha,r'}\sub \bolo{\alpha,r}=\bolo{x,r}
				\end{aligned}\]
		\end{itemize}
	\end{td-sol}
	\begin{td-exo}[(Distance ultramétrique, exemple, pour aller plus loin)]
		On rappelle $U_p(0)=+\infty$ (par convention) dans le cadre de cet exercice. Indice de résolution :
			\[\begin{aligned}
				U_p(xy)=U_p(x)+U_p(y)
			\end{aligned}\]
	\end{td-exo}
	
	\begin{td-exo}[Anticipation feuille 2]
		Soit $\left(\bb R^n,||\cdot||_\infty\right)$. Montrer que
			\[\begin{aligned}
				\scr B=\left\{\bolo{\alpha,\frac1n},\alpha\in\bb Q^n,n\in\bb N^\ast\right\}
			\end{aligned}\]
		est une base de $\mathcal T_{||\cdot||_\infty}$.
	\end{td-exo}
	
	\begin{td-sol}
		Soit $U$ un ouvert de $\bb R^n$ et $x\in U$. Montrons qu'il existe $\alpha\in\bb Q^n$ et $N\in\bb N^\ast$ tels que
			\[\begin{aligned}
				x\in\bolo{\alpha,\frac1N}\sub U
			\end{aligned}\]
		$U$ est ouvert donc il existe $\varepsilon>0$ tel que $\bolo{x,\varepsilon}\sub U$. Il existe aussi $N\in\bb N^\ast$ tel que $\frac1N<\varepsilon$.
		
		Ainsi,
			\[\begin{aligned}
				\bolo{x,\frac1N}\sub \bolo{x,\varepsilon}\sub U
			\end{aligned}\]
			
		\begin{center}
			\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1cm,y=1cm,scale=0.4]
				\begin{axis}[
					x=1cm,y=1cm,
					axis lines=middle,
					ymajorgrids=true,
					xmajorgrids=true,
					xmin=-10.5,
					xmax=10.5,
					ymin=-10.5,
					ymax=10.5,
					xtick={-10,-8,...,10},
					ytick={-10,-8,...,10},]
					
					
					\fill[line width=2pt,color=astral,fill=astral,fill opacity=0.1] (-6,-8) -- (-6,8) -- (6,8) -- (6,-8) -- cycle; % fill outer rectangle
					
					\fill[line width=2pt,color=algebraic-amber,fill=algebraic-amber,fill opacity=0.2] (-5,-7) -- (-5,7) -- (5,7) -- (5,-7) -- cycle; % fill middle rectangle
					
					\fill[line width=2pt,color=astral,fill=astral,fill opacity=0.3] (-3,4) -- (3,4) -- (3,-4) -- (-3,-4) -- cycle; % fill inner rectangle
					
					
					\draw [line width=1pt] (0,0) circle (10cm);
					\draw [line width=1pt,color=astral] (-6,-8)-- (-6,8);
					\draw [line width=1pt,color=astral] (-6,8)-- (6,8);
					\draw [line width=1pt,color=astral] (6,8)-- (6,-8);
					\draw [line width=1pt,color=astral] (6,-8)-- (-6,-8); % draw outer rectangle
					
					\draw [line width=1pt,color=algebraic-amber] (-5,-7)-- (-5,7);
					\draw [line width=1pt,color=algebraic-amber] (-5,7)-- (5,7);
					\draw [line width=1pt,color=algebraic-amber] (5,7)-- (5,-7);
					\draw [line width=1pt,color=algebraic-amber] (5,-7)-- (-5,-7); % draw middle rectangle
					
					\draw [line width=1pt,color=astral] (-3,4)-- (3,4);
					\draw [line width=1pt,color=astral] (3,4)-- (3,-4);
					\draw [line width=1pt,color=astral] (3,-4)-- (-3,-4);
					\draw [line width=1pt,color=astral] (-3,-4)-- (-3,4); % draw inner rectangle
					
					
					\draw [line width=1pt] (0,0)-- (0,8); % top radius
					\draw[color=black] (0.3,4.3) node {$\varepsilon$}; % name top radius
					
					\draw [line width=1pt] (0,0)-- (5, 0); % side radius
					\draw[color=black] (3.3,0.5) node {$\frac1N$}; % name side radius
					
					
					\draw [fill=black] (0,0) circle (2.5pt);
					\draw[color=black] (0.2,0.2) node {$x$}; % center of circle x
					
				\end{axis}
			\end{tikzpicture}
			
		\end{center}
		
		Il existe donc $\alpha\in\bb Q^n\cap\bolo{x,\frac1{2N}}$.
		
		Si $x=(x_1,\dots,x_n)$ alors $\oo{x_i-\frac1{2N},x_i+\frac1{2N}}$ contient un rationnel $\alpha_i$ (par densité de $\bb Q$ dans $\bb R$). Alors
			\[\begin{aligned}
				\bolo{x,\frac1{2N}}_{||\cdot||_\infty}=\prod_{i=1}^n\oo{x_i-\frac1{2N},x_i+\frac1{2N}}
			\end{aligned}\]
		Si $\alpha=(\alpha_1,\dots,\alpha_n)$ alors
			\[\begin{aligned}
				\alpha\in\bolo{x,\frac1{2N}}\text{ donc }x\in\bolo{\alpha,\frac1{2N}}
			\end{aligned}\]
		Soit $y\in\bolo{\alpha,\frac1{2N}}$. On a
			\[\begin{aligned}
				d(x,y)<d(x,\alpha)+d(\alpha,y)<\frac1N
			\end{aligned}\]
		Or ces deux distances (au mileu) sont plus petites que $\frac1{2N}$. Alors
			\[\begin{aligned}
				y\in\bolo{x,\frac1N}\sub U
			\end{aligned}\]
		Donc $y\sub Y$.
			
	\end{td-sol}
\end{document}



