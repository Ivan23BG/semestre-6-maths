\makeatletter
%--------------------------------------------------------------------------------
\usepackage[T1]{fontenc} % font type
\usepackage[french]{babel} % language
\usepackage{lmodern} % font type
\usepackage[shortlabels]{enumitem}
\setlist[itemize,1]{label={\color{gray}\small \textbullet}} % customises itemize default -
\usepackage{fancyhdr} % customises head and foot-notes
\usepackage{centernot} % allows centering \not with \centernot
\usepackage{stmaryrd} % allows \llbracket

\usepackage{xcolor} % colour customisation, extends to tables with {colortbl}
\definecolor{astral}{RGB}{46,116,181}
\definecolor{verdant}{RGB}{96,172,128}
\definecolor{algebraic-amber}{RGB}{255,179,102} % definition colour
\definecolor{calculus-coral}{RGB}{255,191,191} % exercice colour
\definecolor{divergent-denim}{RGB}{130,172,211} % proposition colour 
\definecolor{matrix-mist}{RGB}{204,204,204} % remark colour
\definecolor{numeric-navy}{RGB}{204,204,204} % theorem colour 
\definecolor{quadratic-quartz}{RGB}{204,153,153} % example colour 


\usepackage{latexsym}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{mathrsfs}
\usepackage{mnsymbol}


\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usetikzlibrary{arrows}


\newtheoremstyle{gen-style}{\topsep}{\topsep}%
{}%         Body font
{}%         Indent amount (empty = no indent, \parindent = para indent)
{\sffamily\bfseries}% Thm head font
{.}%        Punctuation after thm head
{ }%     Space after thm head (\newline = linebreak)
{\thmname{#1}\thmnumber{~#2}\thmnote{~#3}}%         Thm head spec


\newtheoremstyle{no-num-style}{\topsep}{\topsep}%
{}%         Body font
{}%         Indent amount (empty = no indent, \parindent = para indent)
{\sffamily\bfseries}% Thm head font
{.}%        Punctuation after thm head
{ }%     Space after thm head (\newline = linebreak)
{\thmname{#1}}%         Thm head spec


%\usepackage[framemethod=tikz]{mdframed}
\usepackage[]{mdframed}
% general
\theoremstyle{gen-style}
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=divergent-denim,
]{proposition}{Proposition}[section]
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=divergent-denim,
]{propdef}{Proposition - Définition}[section]
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=quadratic-quartz,
]{theorem}{Théorème}[section]
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=quadratic-quartz,
]{lemme}{Lemme}[section]

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=quadratic-quartz,
]{example}{Exemple}[section]
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=matrix-mist,
]{remark}{Remarque}[section]
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=matrix-mist,
]{notation}{Notation}[section]
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=calculus-coral,
]{exercise}{Exercice}[section]
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=calculus-coral,
]{exercice}{Exercice}[section]
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=algebraic-amber,
]{definition}{Definition}[section]

\newcounter{oc-counter}
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=divergent-denim,
]{oc-proposition}[oc-counter]{Proposition}
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=divergent-denim,
]{oc-propdef}[oc-counter]{Proposition - Définition}
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=quadratic-quartz,
]{oc-theorem}[oc-counter]{Théorème}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=quadratic-quartz,
]{oc-lemme}[oc-counter]{Lemme}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=quadratic-quartz,
]{oc-example}[oc-counter]{Exemple}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=matrix-mist,
]{oc-remark}[oc-counter]{Remarque}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=calculus-coral,
]{oc-exercise}[oc-counter]{Exercice}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=algebraic-amber,
]{oc-definition}[oc-counter]{Definition}

\theoremstyle{no-num-style}
\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=verdant,
]{td-sol}{Solution}


\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=algebraic-amber,
]{no-num-definition}{Definition}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=algebraic-amber,
]{no-num-theorem}{Théorème}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=quadratic-quartz,
]{oc-intro}{Introduction}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=verdant,
]{oc-proof}{Preuve}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=verdant,
]{oc-young}{Formule de Taylor à l'ordre 2}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=matrix-mist,
]{oc-notation}{Notation}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=matrix-mist,
]{rappel}{Rappel}[section]

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=verdant,
]{myproof}{Preuve}

\newmdtheoremenv[
hidealllines=true,
leftline=true,
skipabove=0pt,
innertopmargin=-5pt,
innerbottommargin=2pt,
linewidth=4pt,
innerrightmargin=0pt,
linecolor=calculus-coral,
]{td-exo}{Exercice}

\numberwithin{oc-counter}{subsection}



%---------------
% Mise en page
%--------------

\setlength{\parindent}{0pt}

\providecommand{\defemph}[1]{{\sffamily\bfseries\color{astral}#1}}


\usepackage{sectsty}
\allsectionsfont{\color{astral}\normalfont\sffamily\bfseries}

\usepackage{mathrsfs}

%----- Easy way to redeclare math operators -----
\makeatletter
\newcommand\RedeclareMathOperator{%
	\@ifstar{\def\rmo@s{m}\rmo@redeclare}{\def\rmo@s{o}\rmo@redeclare}%
}
\newcommand\rmo@redeclare[2]{%
	\begingroup \escapechar\m@ne\xdef\@gtempa{{\string#1}}\endgroup
	\expandafter\@ifundefined\@gtempa
	{\@latex@error{\noexpand#1undefined}\@ehc}%
	\relax
	\expandafter\rmo@declmathop\rmo@s{#1}{#2}}
\newcommand\rmo@declmathop[3]{%
	\DeclareRobustCommand{#2}{\qopname\newmcodes@#1{#3}}%
}
\@onlypreamble\RedeclareMathOperator
\makeatother

\newcommand{\skipline}{\vspace{\baselineskip}}
\newcommand{\noi}{\noindent}
%------------------------------------------------


\newcommand{\adh}[1]{\mathring{#1}} %adherence
\newcommand{\badh}[1]{\mathring{\wideparen{#1}}} % big adherence
\newcommand{\norm}{\mathcal{N}} % norme
\newcommand{\ol}[1]{\overline{#1}} % overline
\newcommand{\sub}{\subset} % subset
\newcommand{\scr}[1]{\mathscr{#1}} % scr rapide
\newcommand{\bb}[1]{\mathbb{#1}} % bb rapide
\newcommand{\bolo}[1]{B({#1}\mathopen{}[\mathclose{}} % boule ouverte
\newcommand{\bolf}[1]{B({#1}\mathopen{}]\mathclose{}} % boule fermee
\newcommand{\act}{\circlearrowleft} % agit sur
\newcommand{\glx}[1]{\text{GL}_{#1}} % GL_x
\newcommand{\cequiv}[1]{\mathopen{}[#1\mathclose{}]} % classe d'equivalence
\newcommand{\restr}[2]{#1\mathop{}\!|_{#2}} % restriction


%----- Intervalles -----
\newcommand{\oo}[1]{\mathopen{]}#1\mathclose{[}}
\newcommand{\of}[1]{\mathopen{]}#1\mathclose{]}}
\newcommand{\fo}[1]{\mathopen{[}#1\mathclose{[}}
\newcommand{\ff}[1]{\mathopen{[}#1\mathclose{]}}



\providecommand{\1}{\mathds{1}}
\DeclareMathOperator{\im}{\mathsf{Im}}
\DeclareRobustCommand{\re}{\mathsf{Re}}
\RedeclareMathOperator{\ker}{\mathsf{Ker}}
\RedeclareMathOperator{\det}{\mathsf{det}}
\DeclareMathOperator{\vect}{\mathsf{Vect}}
\DeclareMathOperator{\orb}{\mathsf{orb}}
\DeclareMathOperator{\st}{\mathsf{st}}
\DeclareMathOperator{\aut}{\mathsf{Aut}}
\DeclareMathOperator{\bij}{\mathsf{Bij}}
\DeclareMathOperator{\rank}{\mathsf{rank}}
\DeclareMathOperator{\tr}{\mathsf{tr}}
\DeclareMathOperator{\id}{\mathsf{Id}}
\providecommand{\B}{\mathsf{B}}


\providecommand{\dpar}[2]{\frac{\partial #1}{\partial #2}}
\makeatother
